syntax = "proto3";
package integration_api;

// Ducks hosts this service
service IntegrationTarget {
  rpc Shutdown (Empty) returns (Empty) {}

  rpc StartTest (TestConfig) returns (ListenInfo) {}

  rpc GetTestResults (Empty) returns (MetricsReport) {}
}

message ListenInfo {
  uint32 port = 1;
}

message Empty {}

message TestConfig {
  // todo
}

message MetricsReport {
  uint64 RequestCount = 1;
  uint64 TotalBytes = 2;
  double MedianEntropy = 3;
  double MedianSize = 4;
}